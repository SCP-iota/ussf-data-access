(()=>{"use strict";var t={743:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,s){function c(t){try{r(o.next(t))}catch(t){s(t)}}function a(t){try{r(o.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}r((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=i(n(943));function c(t,e,n){return o(this,void 0,void 0,(function*(){let o=0,i=1;const s=[];let c=0;for(;i>0&&c<n;){const n=new URL(t);n.searchParams.set("offset",o.toString());const a=yield fetch(n,e).then((t=>t.json()));console.log(a);for(const t of a)s.push(t);i=a.length,o+=i,c++}return s}))}e.default=class{constructor(t,e){this.endpoint=t,this.authStatus="none",this.onAuth=null,e&&(this.credentials=e,this.onAuth=fetch(this.endpoint+"/login/oauth/access-token",{method:"POST",body:"username="+encodeURIComponent(e.username)+"&password="+encodeURIComponent(e.password),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((t=>{console.log(t),this.authStatus="failed"})).then((t=>t.json())).catch((t=>{console.log(t),this.authStatus="failed"})).then((t=>{this.authStatus="succeeded",this.authToken=t.access_token,console.log(t)})))}get tags(){return new Promise(((t,e)=>o(this,void 0,void 0,(function*(){fetch(this.endpoint+"/tags/").catch(e).then((n=>n.json().catch(e).then(t)))}))))}get categories(){return new Promise(((t,e)=>o(this,void 0,void 0,(function*(){fetch(this.endpoint+"/categories/").catch(e).then((n=>n.json().catch(e).then(t)))}))))}get owners(){return new Promise(((t,e)=>o(this,void 0,void 0,(function*(){fetch(this.endpoint+"/owners/").catch(e).then((n=>n.json().catch(e).then(t)))}))))}getPublicSatellites(t){return o(this,void 0,void 0,(function*(){return(yield c(this.endpoint+"/satellites/public/",{},t||1)).map((t=>new s.default(t.norad_cat_id,t.object_name,t.object_id,t.object_type)))}))}getPrivateSatellites(t){return o(this,void 0,void 0,(function*(){if("succeeded"!==this.authStatus)throw new Error("Authentication required for listing private satellites");return(yield c(this.endpoint+"/satellites/private/",{headers:{Authorization:"Basic "+btoa(this.credentials.username+":"+this.credentials.password)}},t||1)).map((t=>new s.default(t.norad_cat_id,t.object_name,t.object_id,t.object_type)))}))}}},943:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,n,o){this.noradCatId=t,this.name=e,this.id=n,this.objectType=o}}},156:function(t,e,n){var o,i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,s){function c(t){try{r(o.next(t))}catch(t){s(t)}}function a(t){try{r(o.throw(t))}catch(t){s(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}r((o=o.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const c=new(s(n(743)).default)("http://localhost:3000/https://api.spaceforce.sh",{username:"alice",password:"secret"});window.src=c,null===(o=c.onAuth)||void 0===o||o.then((()=>i(void 0,void 0,void 0,(function*(){console.log(yield c.getPrivateSatellites(1))}))))}},e={};!function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,n),s.exports}(156)})();